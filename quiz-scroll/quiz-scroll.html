<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>pg-scroll</title>
    <style type="text/css">
        html, body, #pg-scroll, #pg-scroll-frame, .pg-scroll-page { box-sizing:border-box; height:100%; margin:0; width:100%; }
        h1, h2 { color:#000; font-size:2em; letter-spacing: 0.3em; margin:0 0 0.3em; }
        h2 { font-size:1.5em; }
        hr { background-color:transparent; border:solid #c59c5a; border-width:0 0 2px; clear:both; color:#c59c5a; width:5%; }
        a { outline:0 }
        img { max-width:100%; width:5%; height:auto; min-width:34px; }
        #pg-scroll { background:transparent; color:#c59c5a; font:16px/1.5 helvetica,arial,freesans,sans-serif; }
        #pg-scroll-frame, .pg-scroll-page { border:1vw solid #000; width:90.5%; height:74%; }
        #pg-scroll-frame { position:fixed; left:3.6%; top:12%; z-index:-1; }
        .pg-scroll-page { border-color:#c59c5a; display:table; padding:6% 8% 8% 4%; position:relative; left:5.4%; }
        .pg-scroll-copy, .pg-scroll-nav { display:table-cell; text-align:center; vertical-align:middle; }
        .pg-scroll-prev, .pg-scroll-next { display:table; width:100%; }
        .pg-scroll-prev { height:14.2%; }
        .pg-scroll-next { height:11.8%; }
    </style>	
</head>

<body>
<div id="pg-scroll">
    <div id="pg-scroll-frame"></div>
    <a class="pg-scroll-prev" id="p1"></a>
    <div class="pg-scroll-page">
        <div class="pg-scroll-copy">
            <h1>WHAT IS LUXURY?</h1>
            <hr>
            copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy 
        </div>
    </div>
    <a class="pg-scroll-next" href="#p2" title="next"><span class="pg-scroll-nav"><img src="img/next.png" alt="next"></span></a>
    <a class="pg-scroll-prev" id="p2" href="#p1" title="previous"><span class="pg-scroll-nav"><img src="img/prev.png" alt="previous"></span></a>
    <div class="pg-scroll-page">
        <div class="pg-scroll-copy">
            <h2>PAGE 2</h2>
            <hr>
            copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy 
        </div>
    </div>
    <a class="pg-scroll-next" href="#p3" title="next"><span class="pg-scroll-nav"><img src="img/next.png" alt="next"></span></a>
    <a class="pg-scroll-prev" id="p3" href="#p2" title="previous"><span class="pg-scroll-nav"><img src="img/prev.png" alt="previous"></span></a>
    <div class="pg-scroll-page">
        <div class="pg-scroll-copy">
            <h2>PAGE 3</h2>
            <hr>
            copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy copy 
        </div>
    </div>
    <a class="pg-scroll-next"></a>
</div>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript">
jQuery(document).ready(function() {
    
    (function(){
        var resize = function(){
            if( $(window).width()<=800 ){
                $('#pg-scroll').addClass('portrait');
            }
        }; resize(); $(window).on('resize', function(){ resize(); });
    })();
    
    var p = 1,
        winTop = $(window).scrollTop(),
        scrolling = 0;
        
    function scrollDir() {
        var s = $(window).scrollTop();
        var d = (s > winTop)? 1:-1;
        winTop = s;
        return d;
    }
    
    function pageSnap(direction){
        if( !scrolling ){
            p += direction*1;
            if( !$('#p'+p).length ){ p -= direction*1; return; }
            scrolling = 1; 
            $('html, body').animate({scrollTop:$('#p'+p).offset().top}, 1000, function(){winTop=$(window).scrollTop(); setTimeout(function(){scrolling=0},100)});
        }
    }
    
    $('#pg-scroll').on('click', '.pg-scroll-next', function(e){ e.preventDefault(); pageSnap(1); });
    $('#pg-scroll').on('click', '.pg-scroll-prev', function(e){ e.preventDefault(); pageSnap(-1); });
    $(window).on('scroll', function(e){ e.preventDefault(); pageSnap(scrollDir()); });
    $(window).on('resize', function(e){ e.preventDefault(); pageSnap(0); });
    
});    
</script>
</body>
</html>
